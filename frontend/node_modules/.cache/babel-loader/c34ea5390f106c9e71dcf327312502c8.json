{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thinkpad\\\\source\\\\Projects\\\\JobHunt\\\\frontend\\\\src\\\\components\\\\Recruiter\\\\Employees.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport Button from \"@material-ui/core/Button\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport List from \"@material-ui/core/List\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\nimport PropTypes from \"prop-types\";\nimport Card from \"react-bootstrap/Card\";\nimport { connect } from \"react-redux\";\n\nclass Employees extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.state = {\n      userdetails: [],\n      users: [],\n      jobs: [],\n      applications: [],\n      rating: 0,\n      sortbyname: true,\n      sortbytitle: true,\n      sortbyrating: true,\n      sortbydateofjoin: true\n    };\n    this.giveRating = this.giveRating.bind(this);\n    this.renderNameIcon = this.renderNameIcon.bind(this);\n    this.sortByName = this.sortByName.bind(this);\n    this.renderTitleIcon = this.renderTitleIcon.bind(this);\n    this.sortByTitle = this.sortByTitle.bind(this);\n    this.renderRatingIcon = this.renderRatingIcon.bind(this);\n    this.sortByRating = this.sortByRating.bind(this);\n    this.sortByDateOfJoin = this.sortByDateOfJoin.bind(this);\n    this.renderDateOfJoinIcon = this.renderDateOfJoinIcon.bind(this);\n  }\n\n  testSonar() {\n    consol.log(\"test\");\n  }\n\n  componentDidMount() {\n    const {\n      user\n    } = this.props.auth;\n    axios.get(\"http://localhost:4000/user/\" + user.id).then(response => {\n      this.setState({\n        userdetails: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:4000/job/get_jobs\").then(response => {\n      this.setState({\n        jobs: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:4000/user/\").then(response => {\n      this.setState({\n        users: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get(\"http://localhost:4000/application/get_applications\").then(response => {\n      this.setState({\n        applications: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  rated(application) {\n    if (application.applicantRating !== -1) return true;\n    return false;\n  }\n\n  giveRating(e) {\n    console.log(e.target.value);\n    this.setState({\n      rating: e.target.value\n    });\n  }\n\n  getjob(jobId) {\n    let job = this.state.jobs.filter(item => item._id === jobId)[0];\n    return job;\n  }\n\n  getapplicant(applicantId) {\n    let applicant = this.state.users.filter(item => item._id === applicantId)[0];\n    console.log(applicant);\n    return applicant;\n  }\n\n  sortByRating() {\n    var array = this.state.applications;\n    var flag = this.state.sortbyrating;\n    let uusers = this.state.users;\n\n    function getapplicant(applicantId) {\n      let applicant = uusers.filter(item => item._id === applicantId)[0];\n      return applicant;\n    }\n\n    array.sort(function (a, b) {\n      let aapp = getapplicant(a.applicantId);\n      let bapp = getapplicant(b.applicantId);\n\n      if (aapp.rating !== undefined && bapp.rating !== undefined) {\n        return (1 - +flag * 2) * (+aapp.rating - +bapp.rating);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbyrating: !this.state.sortbyrating\n    });\n  }\n\n  renderRatingIcon() {\n    if (this.state.sortbyrating) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      });\n    }\n  }\n\n  sortByName() {\n    var array = this.state.applications;\n    var flag = this.state.sortbyname;\n    let uusers = this.state.users;\n\n    function getapplicant(applicantId) {\n      let applicant = uusers.filter(item => item._id === applicantId)[0];\n      return applicant;\n    }\n\n    array.sort(function (a, b) {\n      console.log(a.applicantId);\n      let aapp = getapplicant(a.applicantId);\n      let bapp = getapplicant(b.applicantId);\n\n      if (aapp !== undefined && bapp !== undefined && aapp.name !== undefined && bapp.name !== undefined) {\n        return (1 - +flag * 2) * aapp.name.localeCompare(bapp.name);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbyname: !this.state.sortbyname\n    });\n  }\n\n  renderNameIcon() {\n    if (this.state.sortbyname) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      });\n    }\n  }\n\n  sortByTitle() {\n    var array = this.state.applications;\n    var flag = this.state.sortbytitle;\n    let jjobs = this.state.jobs;\n\n    function getjob(jobId) {\n      let job = jjobs.filter(item => item._id === jobId)[0];\n      return job;\n    }\n\n    array.sort(function (a, b) {\n      let aapp = getjob(a.jobId);\n      let bapp = getjob(b.jobId);\n\n      if (aapp.title !== undefined && bapp.title !== undefined) {\n        return (1 - +flag * 2) * aapp.title.localeCompare(bapp.title);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbytitle: !this.state.sortbytitle\n    });\n  }\n\n  renderTitleIcon() {\n    if (this.state.sortbytitle) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 259\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 261\n        },\n        __self: this\n      });\n    }\n  }\n\n  sortByDateOfJoin() {\n    var array = this.state.applications;\n    var flag = this.state.sortbydateofjoin;\n    array.sort(function (a, b) {\n      if (a.dateOfJoin !== undefined && b.dateOfJoin !== undefined) {\n        return (1 - +flag * 2) * (new Date(a.dateOfJoin) - new Date(b.dateOfJoin));\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbydateofjoin: !this.state.sortbydateofjoin\n    });\n  }\n\n  renderDateOfJoinIcon() {\n    if (this.state.sortbydateofjoin) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 291\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 293\n        },\n        __self: this\n      });\n    }\n  }\n\n  rate(application) {\n    let applicant = this.getapplicant(application.applicantId);\n    console.log(applicant._id);\n    let nrate = applicant.numrate;\n    nrate = nrate + 1;\n    let nrating = 0;\n\n    if (applicant.rating === -1) {\n      nrating = +this.state.rating;\n    } else {\n      nrating = (+applicant.rating * (+nrate - 1) + +this.state.rating) / +nrate;\n    }\n\n    const editApplicant = {\n      rating: nrating,\n      numrate: nrate\n    };\n    const editApplication = {\n      applicantRating: nrating\n    };\n    axios.put(\"http://localhost:4000/user/edit_profile/\" + applicant._id, editApplicant).then(response => {\n      console.log(editApplicant);\n      alert(\"Applicant rated successfully!\");\n    }).catch(function (error) {\n      console.log(error);\n      alert(\"Applicant could not be rated.\");\n    });\n    axios.put(\"http://localhost:4000/application/edit_application/\" + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  }\n\n  render() {\n    const {\n      user\n    } = this.props.auth;\n    const userRole = this.state.userdetails.role;\n    let Myemployees;\n\n    if (userRole === \"recruiter\") {\n      Myemployees = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 3,\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 362\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"nav\",\n        \"aria-label\": \"mailbox folders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 363\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        text: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, \"Employees\"))))), React.createElement(Grid, {\n        container: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 12,\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379\n        },\n        __self: this\n      }, \"Name\", \" \", React.createElement(Button, {\n        onClick: this.sortByName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 381\n        },\n        __self: this\n      }, this.renderNameIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389\n        },\n        __self: this\n      }, \"Employee Rating\", \" \", React.createElement(Button, {\n        onClick: this.sortByRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 391\n        },\n        __self: this\n      }, this.renderRatingIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 399\n        },\n        __self: this\n      }, \"Job Title\", \" \", React.createElement(Button, {\n        onClick: this.sortByTitle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 401\n        },\n        __self: this\n      }, this.renderTitleIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, \"Job Type\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, \"DOJ\", \" \", React.createElement(Button, {\n        onClick: this.sortByDateOfJoin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 414\n        },\n        __self: this\n      }, this.renderDateOfJoinIcon())))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, this.state.applications.filter(item => item.status === \"Accepted\" && item.recruiterId === user.id).map((application, ind) => React.createElement(TableRow, {\n        key: ind,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }, this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446\n        },\n        __self: this\n      }, applicant.name)), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, applicant.rating ? applicant.rating.toFixed(1) : \"\", React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 473\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, \" star\")))), this.state.jobs.filter(item => item._id === application.jobId).map((job, innnd) => React.createElement(TableCell, {\n        key: innnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, job.title)), this.state.jobs.filter(item => item._id === application.jobId).map((job, innnd) => React.createElement(TableCell, {\n        key: innnd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 501\n        },\n        __self: this\n      }, job.type)), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 507\n        },\n        __self: this\n      }, application.doj ? application.doj.substring(0, 10) : \"\"), !this.rated(application) ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, React.createElement(Rating, {\n        value: this.state.rating,\n        onChange: this.giveRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 519\n        },\n        __self: this\n      }), React.createElement(Tooltip, {\n        title: \"Rate this employee\",\n        \"aria-label\": \"rate\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 528\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.rate(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 532\n        },\n        __self: this\n      }, \"Rate Employee\"))) : React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 545\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 546\n        },\n        __self: this\n      }, \"Rated\"))))))))));\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        height: \"75vh\"\n      },\n      className: \"valign-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 560\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 565\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 566\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 567\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 568\n      },\n      __self: this\n    }, Myemployees))))));\n  }\n\n}\n\nEmployees.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps)(Employees);","map":{"version":3,"sources":["C:/Users/thinkpad/source/Projects/JobHunt/frontend/src/components/Recruiter/Employees.js"],"names":["React","Component","axios","Paper","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","Rating","List","Tooltip","ListItem","ArrowUpwardIcon","ArrowDownwardIcon","PropTypes","Card","connect","Employees","constructor","props","onLogoutClick","e","preventDefault","logoutUser","onChange","setState","target","id","value","state","userdetails","users","jobs","applications","rating","sortbyname","sortbytitle","sortbyrating","sortbydateofjoin","giveRating","bind","renderNameIcon","sortByName","renderTitleIcon","sortByTitle","renderRatingIcon","sortByRating","sortByDateOfJoin","renderDateOfJoinIcon","testSonar","consol","log","componentDidMount","user","auth","get","then","response","data","catch","error","console","componentWillReceiveProps","nextProps","errors","rated","application","applicantRating","getjob","jobId","job","filter","item","_id","getapplicant","applicantId","applicant","array","flag","uusers","sort","a","b","aapp","bapp","undefined","name","localeCompare","jjobs","title","dateOfJoin","Date","rate","nrate","numrate","nrating","editApplicant","editApplication","put","alert","window","location","reload","render","userRole","role","Myemployees","status","recruiterId","map","ind","innd","toFixed","innnd","type","doj","substring","height","width","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ArrowUpwardIcon from \"@material-ui/icons/ArrowUpward\";\r\nimport ArrowDownwardIcon from \"@material-ui/icons/ArrowDownward\";\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Employees extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      userdetails: [],\r\n      users: [],\r\n      jobs: [],\r\n      applications: [],\r\n      rating: 0,\r\n      sortbyname: true,\r\n      sortbytitle: true,\r\n      sortbyrating: true,\r\n      sortbydateofjoin: true,\r\n    };\r\n    this.giveRating = this.giveRating.bind(this);\r\n    this.renderNameIcon =\r\n      this.renderNameIcon.bind(this);\r\n    this.sortByName = this.sortByName.bind(this);\r\n    this.renderTitleIcon =\r\n      this.renderTitleIcon.bind(this);\r\n    this.sortByTitle =\r\n      this.sortByTitle.bind(this);\r\n    this.renderRatingIcon =\r\n      this.renderRatingIcon.bind(this);\r\n    this.sortByRating =\r\n      this.sortByRating.bind(this);\r\n    this.sortByDateOfJoin =\r\n      this.sortByDateOfJoin.bind(this);\r\n    this.renderDateOfJoinIcon =\r\n      this.renderDateOfJoinIcon.bind(this);\r\n  }\r\n  testSonar() {\r\n    consol.log(\"test\");\r\n  }\r\n  onLogoutClick = (e) => {\r\n    e.preventDefault();\r\n    this.props.logoutUser();\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { user } = this.props.auth;\r\n    axios\r\n      .get(\r\n        \"http://localhost:4000/user/\" + user.id\r\n      )\r\n      .then((response) => {\r\n        this.setState({\r\n          userdetails: response.data,\r\n        });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    axios\r\n      .get(\"http://localhost:4000/job/get_jobs\")\r\n      .then((response) => {\r\n        this.setState({ jobs: response.data });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    axios\r\n      .get(\"http://localhost:4000/user/\")\r\n      .then((response) => {\r\n        this.setState({ users: response.data });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n    axios\r\n      .get(\r\n        \"http://localhost:4000/application/get_applications\"\r\n      )\r\n      .then((response) => {\r\n        this.setState({\r\n          applications: response.data,\r\n        });\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    if (nextProps.errors) {\r\n      this.setState({\r\n        errors: nextProps.errors,\r\n      });\r\n    }\r\n  }\r\n\r\n  onChange = (e) => {\r\n    this.setState({\r\n      [e.target.id]: e.target.value,\r\n    });\r\n  };\r\n\r\n  rated(application) {\r\n    if (application.applicantRating !== -1)\r\n      return true;\r\n    return false;\r\n  }\r\n\r\n  giveRating(e) {\r\n    console.log(e.target.value);\r\n    this.setState({ rating: e.target.value });\r\n  }\r\n\r\n  getjob(jobId) {\r\n    let job = this.state.jobs.filter(\r\n      (item) => item._id === jobId\r\n    )[0];\r\n    return job;\r\n  }\r\n\r\n  getapplicant(applicantId) {\r\n    let applicant = this.state.users.filter(\r\n      (item) => item._id === applicantId\r\n    )[0];\r\n    console.log(applicant);\r\n    return applicant;\r\n  }\r\n\r\n  sortByRating() {\r\n    var array = this.state.applications;\r\n    var flag = this.state.sortbyrating;\r\n    let uusers = this.state.users;\r\n    function getapplicant(applicantId) {\r\n      let applicant = uusers.filter(\r\n        (item) => item._id === applicantId\r\n      )[0];\r\n      return applicant;\r\n    }\r\n    array.sort(function (a, b) {\r\n      let aapp = getapplicant(a.applicantId);\r\n      let bapp = getapplicant(b.applicantId);\r\n      if (\r\n        aapp.rating !== undefined &&\r\n        bapp.rating !== undefined\r\n      ) {\r\n        return (\r\n          (1 - +flag * 2) *\r\n          (+aapp.rating - +bapp.rating)\r\n        );\r\n      } else {\r\n        return 1;\r\n      }\r\n    });\r\n    this.setState({\r\n      applications: array,\r\n      sortbyrating: !this.state.sortbyrating,\r\n    });\r\n  }\r\n\r\n  renderRatingIcon() {\r\n    if (this.state.sortbyrating) {\r\n      return <ArrowDownwardIcon />;\r\n    } else {\r\n      return <ArrowUpwardIcon />;\r\n    }\r\n  }\r\n\r\n  sortByName() {\r\n    var array = this.state.applications;\r\n    var flag = this.state.sortbyname;\r\n    let uusers = this.state.users;\r\n    function getapplicant(applicantId) {\r\n      let applicant = uusers.filter(\r\n        (item) => item._id === applicantId\r\n      )[0];\r\n      return applicant;\r\n    }\r\n    array.sort(function (a, b) {\r\n      console.log(a.applicantId);\r\n      let aapp = getapplicant(a.applicantId);\r\n      let bapp = getapplicant(b.applicantId);\r\n      if (\r\n        aapp !== undefined &&\r\n        bapp !== undefined &&\r\n        aapp.name !== undefined &&\r\n        bapp.name !== undefined\r\n      ) {\r\n        return (\r\n          (1 - +flag * 2) *\r\n          aapp.name.localeCompare(bapp.name)\r\n        );\r\n      } else {\r\n        return 1;\r\n      }\r\n    });\r\n    this.setState({\r\n      applications: array,\r\n      sortbyname: !this.state.sortbyname,\r\n    });\r\n  }\r\n\r\n  renderNameIcon() {\r\n    if (this.state.sortbyname) {\r\n      return <ArrowDownwardIcon />;\r\n    } else {\r\n      return <ArrowUpwardIcon />;\r\n    }\r\n  }\r\n\r\n  sortByTitle() {\r\n    var array = this.state.applications;\r\n    var flag = this.state.sortbytitle;\r\n    let jjobs = this.state.jobs;\r\n    function getjob(jobId) {\r\n      let job = jjobs.filter(\r\n        (item) => item._id === jobId\r\n      )[0];\r\n      return job;\r\n    }\r\n    array.sort(function (a, b) {\r\n      let aapp = getjob(a.jobId);\r\n      let bapp = getjob(b.jobId);\r\n      if (\r\n        aapp.title !== undefined &&\r\n        bapp.title !== undefined\r\n      ) {\r\n        return (\r\n          (1 - +flag * 2) *\r\n          aapp.title.localeCompare(bapp.title)\r\n        );\r\n      } else {\r\n        return 1;\r\n      }\r\n    });\r\n    this.setState({\r\n      applications: array,\r\n      sortbytitle: !this.state.sortbytitle,\r\n    });\r\n  }\r\n\r\n  renderTitleIcon() {\r\n    if (this.state.sortbytitle) {\r\n      return <ArrowDownwardIcon />;\r\n    } else {\r\n      return <ArrowUpwardIcon />;\r\n    }\r\n  }\r\n\r\n  sortByDateOfJoin() {\r\n    var array = this.state.applications;\r\n    var flag = this.state.sortbydateofjoin;\r\n    array.sort(function (a, b) {\r\n      if (\r\n        a.dateOfJoin !== undefined &&\r\n        b.dateOfJoin !== undefined\r\n      ) {\r\n        return (\r\n          (1 - +flag * 2) *\r\n          (new Date(a.dateOfJoin) -\r\n            new Date(b.dateOfJoin))\r\n        );\r\n      } else {\r\n        return 1;\r\n      }\r\n    });\r\n    this.setState({\r\n      applications: array,\r\n      sortbydateofjoin:\r\n        !this.state.sortbydateofjoin,\r\n    });\r\n  }\r\n\r\n  renderDateOfJoinIcon() {\r\n    if (this.state.sortbydateofjoin) {\r\n      return <ArrowDownwardIcon />;\r\n    } else {\r\n      return <ArrowUpwardIcon />;\r\n    }\r\n  }\r\n\r\n  rate(application) {\r\n    let applicant = this.getapplicant(\r\n      application.applicantId\r\n    );\r\n    console.log(applicant._id);\r\n    let nrate = applicant.numrate;\r\n    nrate = nrate + 1;\r\n    let nrating = 0;\r\n    if (applicant.rating === -1) {\r\n      nrating = +this.state.rating;\r\n    } else {\r\n      nrating =\r\n        (+applicant.rating * (+nrate - 1) +\r\n          +this.state.rating) /\r\n        +nrate;\r\n    }\r\n\r\n    const editApplicant = {\r\n      rating: nrating,\r\n      numrate: nrate,\r\n    };\r\n\r\n    const editApplication = {\r\n      applicantRating: nrating,\r\n    };\r\n\r\n    axios\r\n      .put(\r\n        \"http://localhost:4000/user/edit_profile/\" +\r\n          applicant._id,\r\n        editApplicant\r\n      )\r\n      .then((response) => {\r\n        console.log(editApplicant);\r\n        alert(\"Applicant rated successfully!\");\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n        alert(\"Applicant could not be rated.\");\r\n      });\r\n\r\n    axios\r\n      .put(\r\n        \"http://localhost:4000/application/edit_application/\" +\r\n          application._id,\r\n        editApplication\r\n      )\r\n      .then((response) => {\r\n        console.log(editApplication);\r\n      })\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n\r\n    window.location.reload();\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props.auth;\r\n    const userRole = this.state.userdetails.role;\r\n    let Myemployees;\r\n    if (userRole === \"recruiter\") {\r\n      Myemployees = (\r\n        <div>\r\n          <Grid container>\r\n            <Grid item xs={12} md={3} lg={3}>\r\n              <List\r\n                component=\"nav\"\r\n                aria-label=\"mailbox folders\"\r\n              >\r\n                <ListItem text>\r\n                  <h3>Employees</h3>\r\n                </ListItem>\r\n              </List>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid container>\r\n            <Grid item xs={12} md={12} lg={12}>\r\n              <Paper>\r\n                <Table>\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell>\r\n                        Name{\" \"}\r\n                        <Button\r\n                          onClick={\r\n                            this.sortByName\r\n                          }\r\n                        >\r\n                          {this.renderNameIcon()}\r\n                        </Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        Employee Rating{\" \"}\r\n                        <Button\r\n                          onClick={\r\n                            this.sortByRating\r\n                          }\r\n                        >\r\n                          {this.renderRatingIcon()}\r\n                        </Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        Job Title{\" \"}\r\n                        <Button\r\n                          onClick={\r\n                            this.sortByTitle\r\n                          }\r\n                        >\r\n                          {this.renderTitleIcon()}\r\n                        </Button>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        Job Type\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        DOJ{\" \"}\r\n                        <Button\r\n                          onClick={\r\n                            this.sortByDateOfJoin\r\n                          }\r\n                        >\r\n                          {this.renderDateOfJoinIcon()}\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {this.state.applications\r\n                      .filter(\r\n                        (item) =>\r\n                          item.status ===\r\n                            \"Accepted\" &&\r\n                          item.recruiterId ===\r\n                            user.id\r\n                      )\r\n                      .map((application, ind) => (\r\n                        <TableRow key={ind}>\r\n                          {this.state.users\r\n                            .filter(\r\n                              (item) =>\r\n                                item._id ===\r\n                                application.applicantId\r\n                            )\r\n                            .map(\r\n                              (\r\n                                applicant,\r\n                                innd\r\n                              ) => (\r\n                                <TableCell\r\n                                  key={innd}\r\n                                >\r\n                                  {applicant.name}\r\n                                </TableCell>\r\n                              )\r\n                            )}\r\n\r\n                          {this.state.users\r\n                            .filter(\r\n                              (item) =>\r\n                                item._id ===\r\n                                application.applicantId\r\n                            )\r\n                            .map(\r\n                              (\r\n                                applicant,\r\n                                innd\r\n                              ) => (\r\n                                <TableCell\r\n                                  key={innd}\r\n                                >\r\n                                  {applicant.rating\r\n                                    ? applicant.rating.toFixed(\r\n                                        1\r\n                                      )\r\n                                    : \"\"}\r\n                                  <i className=\"material-icons\">\r\n                                    <h6> star</h6>\r\n                                  </i>\r\n                                </TableCell>\r\n                              )\r\n                            )}\r\n\r\n                          {this.state.jobs\r\n                            .filter(\r\n                              (item) =>\r\n                                item._id ===\r\n                                application.jobId\r\n                            )\r\n                            .map((job, innnd) => (\r\n                              <TableCell\r\n                                key={innnd}\r\n                              >\r\n                                {job.title}\r\n                              </TableCell>\r\n                            ))}\r\n\r\n                          {this.state.jobs\r\n                            .filter(\r\n                              (item) =>\r\n                                item._id ===\r\n                                application.jobId\r\n                            )\r\n                            .map((job, innnd) => (\r\n                              <TableCell\r\n                                key={innnd}\r\n                              >\r\n                                {job.type}\r\n                              </TableCell>\r\n                            ))}\r\n                          <TableCell>\r\n                            {application.doj\r\n                              ? application.doj.substring(\r\n                                  0,\r\n                                  10\r\n                                )\r\n                              : \"\"}\r\n                          </TableCell>\r\n                          {!this.rated(\r\n                            application\r\n                          ) ? (\r\n                            <TableCell>\r\n                              <Rating\r\n                                value={\r\n                                  this.state\r\n                                    .rating\r\n                                }\r\n                                onChange={\r\n                                  this.giveRating\r\n                                }\r\n                              />\r\n                              <Tooltip\r\n                                title=\"Rate this employee\"\r\n                                aria-label=\"rate\"\r\n                              >\r\n                                <button\r\n                                  className=\"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\"\r\n                                  onClick={() =>\r\n                                    this.rate(\r\n                                      application\r\n                                    )\r\n                                  }\r\n                                >\r\n                                  Rate Employee\r\n                                </button>\r\n                              </Tooltip>\r\n                            </TableCell>\r\n                          ) : (\r\n                            <TableCell>\r\n                              <div>Rated</div>\r\n                            </TableCell>\r\n                          )}\r\n                        </TableRow>\r\n                      ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div\r\n        style={{ height: \"75vh\" }}\r\n        className=\"valign-wrapper\"\r\n      >\r\n        <div className=\"row\">\r\n          <div className=\"col s12 center-align\">\r\n            <Card style={{ width: \"100%\" }}>\r\n              <Card.Body>\r\n                <Card.Text>\r\n                  {Myemployees}\r\n                </Card.Text>\r\n              </Card.Body>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nEmployees.propTypes = {\r\n  auth: PropTypes.object.isRequired,\r\n  errors: PropTypes.object.isRequired,\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  auth: state.auth,\r\n  errors: state.errors,\r\n});\r\nexport default connect(mapStateToProps)(\r\n  Employees\r\n);\r\n"]},"metadata":{},"sourceType":"module"}