{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\thinkpad\\\\source\\\\Projects\\\\JobHunt\\\\frontend\\\\src\\\\components\\\\Recruiter\\\\AppList.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Grid from '@material-ui/core/Grid';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ListItem from '@material-ui/core/ListItem';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport PropTypes from \"prop-types\";\nimport Card from \"react-bootstrap/Card\";\nimport { connect } from \"react-redux\";\n\nclass AppList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onLogoutClick = e => {\n      e.preventDefault();\n      this.props.logoutUser();\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n    };\n\n    this.state = {\n      userdetails: [],\n      users: [],\n      jobs: [],\n      applications: [],\n      rating: 0,\n      sortbyname: true,\n      sortbydateofapply: true,\n      sortbyrating: true\n    };\n    this.renderNameIcon = this.renderNameIcon.bind(this);\n    this.renderDateOfApplyIcon = this.renderDateOfApplyIcon.bind(this);\n    this.renderRatingIcon = this.renderRatingIcon.bind(this);\n    this.sortByName = this.sortByName.bind(this);\n    this.sortByDateOfApply = this.sortByDateOfApply.bind(this);\n    this.sortByRating = this.sortByRating.bind(this);\n    this.accept = this.accept.bind(this);\n  }\n\n  componentDidMount() {\n    const {\n      user\n    } = this.props.auth;\n    axios.get('http://localhost:4000/user/' + user.id).then(response => {\n      this.setState({\n        userdetails: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/job/get_jobs').then(response => {\n      this.setState({\n        jobs: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/user/').then(response => {\n      this.setState({\n        users: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.get('http://localhost:4000/application/get_applications').then(response => {\n      this.setState({\n        applications: response.data\n      });\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.errors) {\n      this.setState({\n        errors: nextProps.errors\n      });\n    }\n  }\n\n  getjob(jobId) {\n    let job = this.state.jobs.filter(item => item._id === jobId)[0];\n    return job;\n  }\n\n  getapplicant(applicantId) {\n    let applicant = this.state.users.filter(item => item._id === applicantId)[0];\n    return applicant;\n  }\n\n  sortByName() {\n    var array = this.state.applications;\n    var flag = this.state.sortbyname;\n    let uusers = this.state.users;\n\n    function getapplicant(applicantId) {\n      let applicant = uusers.filter(item => item._id === applicantId)[0];\n      return applicant;\n    }\n\n    array.sort(function (a, b) {\n      console.log(a.applicantId);\n      let aapp = getapplicant(a.applicantId);\n      let bapp = getapplicant(b.applicantId);\n\n      if (aapp.name !== undefined && bapp.name !== undefined) {\n        return (1 - +flag * 2) * aapp.name.localeCompare(bapp.name);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbyname: !this.state.sortbyname\n    });\n  }\n\n  sortByDateOfApply() {\n    var array = this.state.applications;\n    var flag = this.state.sortbydateofapply;\n    array.sort(function (a, b) {\n      if (a.dateOfApply !== undefined && b.dateOfApply !== undefined) {\n        return (1 - +flag * 2) * (new Date(a.dateOfApply) - new Date(b.dateOfApply));\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbydateofapply: !this.state.sortbydateofapply\n    });\n  }\n\n  sortByRating() {\n    var array = this.state.applications;\n    var flag = this.state.sortbyrating;\n    let uusers = this.state.users;\n\n    function getapplicant(applicantId) {\n      let applicant = uusers.filter(item => item._id === applicantId)[0];\n      return applicant;\n    }\n\n    array.sort(function (a, b) {\n      let aapp = getapplicant(a.applicantId);\n      let bapp = getapplicant(b.applicantId);\n\n      if (aapp.rating !== undefined && bapp.rating !== undefined) {\n        return (1 - +flag * 2) * (+aapp.rating - +bapp.rating);\n      } else {\n        return 1;\n      }\n    });\n    this.setState({\n      applications: array,\n      sortbyrating: !this.state.sortbyrating\n    });\n  }\n\n  renderNameIcon() {\n    if (this.state.sortbyname) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderDateOfApplyIcon() {\n    if (this.state.sortbydateofapply) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      });\n    }\n  }\n\n  renderRatingIcon() {\n    if (this.state.sortbyrating) {\n      return React.createElement(ArrowDownwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(ArrowUpwardIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      });\n    }\n  }\n\n  shortlist(application) {\n    const editApplication = {\n      status: \"Shortlisted\"\n    };\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    window.location.reload();\n  }\n\n  accept(application) {\n    let job = this.getjob(application.jobId);\n\n    if (job.numpos === job.posmax) {\n      alert(\"All positions are filled!\");\n      return;\n    } else if (job.numpos === job.posmax - 1) {\n      this.state.applications.filter(item => item.applicantId !== application.applicantId && item.jobId === application.jobId && item.status !== \"Deleted\" && item.status !== \"Accepted\").forEach(function (appli) {\n        // let temp = job;\n        const tempAppli = {\n          status: \"Rejected\"\n        }; // let newNumApp = +temp.numapp - 1;\n        // if(newNumApp < 0) newNumApp = 0;\n        // const tempJob = {\n        //     numapp: newNumApp\n        // }\n\n        axios.put('http://localhost:4000/application/edit_application/' + appli._id, tempAppli).then(response => {\n          console.log(tempAppli);\n        }).catch(function (error) {\n          console.log(error);\n        }); // axios\n        //     .put('http://localhost:4000/job/edit_job/' + temp._id, tempJob)\n        //     .then(response => {\n        //         console.log(tempJob);\n        //     })\n        //     .catch(function(error) {\n        //         console.log(error);\n        //     })\n      });\n    }\n\n    let nnumpos = +job.numpos + 1;\n    const editApplicant = {\n      working: true,\n      numapp: 0\n    };\n    const editJob = {\n      numpos: nnumpos\n    };\n    const editApplication = {\n      status: \"Accepted\",\n      doj: new Date()\n    };\n    axios.put('http://localhost:4000/job/edit_job/' + job._id, editJob).then(response => {\n      console.log(editJob);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    axios.put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant).then(response => {\n      console.log(editApplicant);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    let alljobs = this.state.jobs;\n    this.state.applications.filter(item => item.applicantId === application.applicantId && item._id !== application._id && item.status !== \"Deleted\").forEach(function (appli) {\n      // let appliJob = alljobs.filter(item => item._id === appli.jobId)[0];\n      const editAppli = {\n        status: \"Rejected\"\n      }; // let napp = +appliJob.numapp - 1;\n      // if(napp < 0) napp = 0;\n      // const editAppliJob = {\n      //     numapp: napp\n      // }\n\n      axios.put('http://localhost:4000/application/edit_application/' + appli._id, editAppli).then(response => {\n        console.log(editAppli);\n      }).catch(function (error) {\n        console.log(error);\n      }); // axios\n      //     .put('http://localhost:4000/job/edit_job/' + appliJob._id, editAppliJob)\n      //     .then(response => {\n      //         console.log(editAppliJob);\n      //     })\n      //     .catch(function(error) {\n      //         console.log(error);\n      //     })\n    });\n    this.props.history.push('/appList');\n    this.props.history.push('/');\n    this.props.history.goBack();\n  }\n\n  reject(application) {\n    // const { user } = this.props.auth;\n    // let job = this.getjob(application.jobId);\n    let applicant = this.getapplicant(application.applicantId); // let job = this.getjob(application.jobId);\n\n    let nnumapp = +applicant.numapp - 1; // let jnumapp = +job.numapp - 1;\n\n    if (nnumapp < 0) nnumapp = 0; // if(jnumapp < 0) jnumapp = 0;\n\n    const editApplicant = {\n      numapp: nnumapp\n    };\n    const editApplication = {\n      status: \"Rejected\"\n    }; // const editJob = {\n    //     numapp: jnumapp\n    // };\n\n    axios.put('http://localhost:4000/application/edit_application/' + application._id, editApplication).then(response => {\n      console.log(editApplication);\n    }).catch(function (error) {\n      console.log(error);\n    }); // axios\n    //     .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\n    //     .then(response => {\n    //         console.log(editJob);\n    //     })\n    //     .catch(function(error) {\n    //         console.log(error);\n    //     })\n\n    axios.put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant).then(response => {\n      console.log(editApplicant);\n    }).catch(function (error) {\n      console.log(error);\n    });\n    this.props.history.push('/appList');\n    this.props.history.push('/appList');\n    this.props.history.goBack();\n    ;\n  }\n\n  render() {\n    const {\n      user\n    } = this.props.auth;\n    const userRole = this.state.userdetails.role;\n    let Applications;\n\n    if (userRole === \"recruiter\") {\n      Applications = React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 408\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 409\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 12,\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 410\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"nav\",\n        \"aria-label\": \"mailbox folders\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 411\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        text: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 412\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 413\n        },\n        __self: this\n      }, \"Applications\"))))), React.createElement(Grid, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 418\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        md: 12,\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 419\n        },\n        __self: this\n      }, React.createElement(Table, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 421\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 422\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 423\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 424\n        },\n        __self: this\n      }, \"Title\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, \"Applicant \", React.createElement(Button, {\n        onClick: this.sortByName,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 425\n        },\n        __self: this\n      }, this.renderNameIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, \"Appl. Rating \", React.createElement(Button, {\n        onClick: this.sortByRating,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 426\n        },\n        __self: this\n      }, this.renderRatingIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 427\n        },\n        __self: this\n      }, \"Appl. Skills\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 428\n        },\n        __self: this\n      }, \"Education\"))), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429\n        },\n        __self: this\n      }, \"SOP\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430\n        },\n        __self: this\n      }, \"Status\"), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, \"Date of Application \", React.createElement(Button, {\n        onClick: this.sortByDateOfApply,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431\n        },\n        __self: this\n      }, this.renderDateOfApplyIcon())), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432\n        },\n        __self: this\n      }), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433\n        },\n        __self: this\n      }), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434\n        },\n        __self: this\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437\n        },\n        __self: this\n      }, this.state.applications.filter(item => item.status !== \"Rejected\" && item.recruiterId === user.id && item.jobId === this.props.location.state).map((application, ind) => React.createElement(TableRow, {\n        key: ind,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439\n        },\n        __self: this\n      }, React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 440\n        },\n        __self: this\n      }, application.title), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 442\n        },\n        __self: this\n      }, applicant.name)), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, applicant.rating ? applicant.rating.toFixed(1) : \"\", React.createElement(\"i\", {\n        className: \"material-icons\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, React.createElement(\"h6\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 445\n        },\n        __self: this\n      }, \" star\")))), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 448\n        },\n        __self: this\n      }, applicant.skills.join(\", \"))), this.state.users.filter(item => item._id === application.applicantId).map((applicant, innd) => React.createElement(TableCell, {\n        key: innd,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 451\n        },\n        __self: this\n      }, applicant.education.map(ed => React.createElement(\"ul\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 454\n        },\n        __self: this\n      }, React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 455\n        },\n        __self: this\n      }, \"School: \", ed.school), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456\n        },\n        __self: this\n      }, \"Degree: \", ed.degree), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457\n        },\n        __self: this\n      }, \"Start date: \", ed.startdate ? ed.startdate.toString().substring(0, 10) : \"NA\"), React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458\n        },\n        __self: this\n      }, \"End date: \", ed.enddate ? ed.enddate.toString().substring(0, 10) : \"NA\"))))), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 464\n        },\n        __self: this\n      }, application.sop), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 465\n        },\n        __self: this\n      }, application.status), React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 466\n        },\n        __self: this\n      }, application.dateOfApplication.substring(0, 10)), application.status === \"Applied\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Shortlist Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.shortlist(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, \"Shortlist\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482\n        },\n        __self: this\n      }), application.status === \"Shortlisted\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Accept Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.accept(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 489\n        },\n        __self: this\n      }, \"Accept\"))) : React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }), application.status === \"Accepted\" ? React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 504\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Reject Candidate\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 505\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 506\n        },\n        __self: this\n      }, \"Accepted\"))) : React.createElement(TableCell, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 516\n        },\n        __self: this\n      }, React.createElement(Tooltip, {\n        title: \"Rate this job\",\n        \"aria-label\": \"apply\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 517\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\",\n        onClick: () => this.reject(application),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 518\n        },\n        __self: this\n      }, \"Reject\"))))))))));\n    }\n\n    return React.createElement(\"div\", {\n      style: {\n        height: \"75vh\"\n      },\n      className: \"valign-wrapper\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col s12 center-align\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 542\n      },\n      __self: this\n    }, Applications)))));\n  }\n\n}\n\nAppList.propTypes = {\n  auth: PropTypes.object.isRequired,\n  errors: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  errors: state.errors\n});\n\nexport default connect(mapStateToProps)(AppList);","map":{"version":3,"sources":["C:/Users/thinkpad/source/Projects/JobHunt/frontend/src/components/Recruiter/AppList.js"],"names":["React","Component","axios","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","List","Tooltip","ListItem","ArrowUpwardIcon","ArrowDownwardIcon","PropTypes","Card","connect","AppList","constructor","props","onLogoutClick","e","preventDefault","logoutUser","onChange","setState","target","id","value","state","userdetails","users","jobs","applications","rating","sortbyname","sortbydateofapply","sortbyrating","renderNameIcon","bind","renderDateOfApplyIcon","renderRatingIcon","sortByName","sortByDateOfApply","sortByRating","accept","componentDidMount","user","auth","get","then","response","data","catch","error","console","log","componentWillReceiveProps","nextProps","errors","getjob","jobId","job","filter","item","_id","getapplicant","applicantId","applicant","array","flag","uusers","sort","a","b","aapp","bapp","name","undefined","localeCompare","dateOfApply","Date","shortlist","application","editApplication","status","put","window","location","reload","numpos","posmax","alert","forEach","appli","tempAppli","nnumpos","editApplicant","working","numapp","editJob","doj","alljobs","editAppli","history","push","goBack","reject","nnumapp","render","userRole","role","Applications","recruiterId","map","ind","title","innd","toFixed","skills","join","education","ed","school","degree","startdate","toString","substring","enddate","sop","dateOfApplication","height","width","propTypes","object","isRequired","mapStateToProps"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\n\r\nimport PropTypes from \"prop-types\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport { connect } from \"react-redux\";\r\n\r\n\r\nclass AppList extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userdetails: [],\r\n            users: [],\r\n            jobs: [],\r\n            applications: [],\r\n            rating: 0,\r\n            sortbyname:true,\r\n            sortbydateofapply:true,\r\n            sortbyrating:true\r\n        };\r\n        this.renderNameIcon = this.renderNameIcon.bind(this);\r\n        this.renderDateOfApplyIcon = this.renderDateOfApplyIcon.bind(this);\r\n        this.renderRatingIcon = this.renderRatingIcon.bind(this);\r\n        this.sortByName = this.sortByName.bind(this);\r\n        this.sortByDateOfApply = this.sortByDateOfApply.bind(this);\r\n        this.sortByRating = this.sortByRating.bind(this);\r\n        this.accept = this.accept.bind(this);\r\n    }\r\n\r\n    onLogoutClick = e => {\r\n        e.preventDefault();\r\n        this.props.logoutUser();\r\n    };\r\n\r\n    onChange = e => {\r\n        this.setState({ [e.target.id]: e.target.value });\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { user } = this.props.auth;\r\n        axios.get('http://localhost:4000/user/'+ user.id)\r\n                .then(response => {\r\n                    this.setState({userdetails: response.data});\r\n                })\r\n                .catch(function(error) {\r\n                    console.log(error);\r\n                })\r\n        axios.get('http://localhost:4000/job/get_jobs')\r\n            .then(response => {\r\n                this.setState({jobs: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        axios.get('http://localhost:4000/user/')\r\n            .then(response => {\r\n                this.setState({users: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        axios.get('http://localhost:4000/application/get_applications')\r\n            .then(response => {\r\n                this.setState({applications: response.data});\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.errors) {\r\n            this.setState({\r\n            errors: nextProps.errors\r\n            });\r\n        }\r\n    }\r\n\r\n    getjob(jobId)\r\n    {\r\n        let job = this.state.jobs.filter(item => item._id === jobId)[0];\r\n        return job;\r\n    }\r\n\r\n    getapplicant(applicantId)\r\n    {\r\n        let applicant = this.state.users.filter(item => item._id === applicantId)[0];\r\n        return applicant;\r\n    }\r\n\r\n    sortByName(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbyname;\r\n        let uusers = this.state.users;\r\n        function getapplicant(applicantId)\r\n        {\r\n            let applicant = uusers.filter(item => item._id === applicantId)[0];\r\n            return applicant;\r\n        }\r\n        array.sort(function(a, b) {\r\n            console.log(a.applicantId);\r\n            let aapp = getapplicant(a.applicantId);\r\n            let bapp = getapplicant(b.applicantId);\r\n            if(aapp.name !== undefined && bapp.name !== undefined){\r\n                return (1 - +flag*2) * aapp.name.localeCompare(bapp.name);\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbyname:!this.state.sortbyname,\r\n        })\r\n    }\r\n\r\n    sortByDateOfApply(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbydateofapply;\r\n        array.sort(function(a, b) {\r\n            if(a.dateOfApply !== undefined && b.dateOfApply !== undefined){\r\n                return (1 - +flag*2) * (new Date(a.dateOfApply) - new Date(b.dateOfApply));\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbydateofapply:!this.state.sortbydateofapply,\r\n        })\r\n    }\r\n\r\n    sortByRating(){\r\n        var array = this.state.applications;\r\n        var flag = this.state.sortbyrating;\r\n        let uusers = this.state.users;\r\n        function getapplicant(applicantId)\r\n        {\r\n            let applicant = uusers.filter(item => item._id === applicantId)[0];\r\n            return applicant;\r\n        }\r\n        array.sort(function(a, b) {\r\n            let aapp = getapplicant(a.applicantId);\r\n            let bapp = getapplicant(b.applicantId);\r\n            if(aapp.rating !== undefined && bapp.rating !== undefined){\r\n                return (1 - +flag*2) * (+aapp.rating - +bapp.rating);\r\n            }\r\n            else{\r\n                return 1;\r\n            }\r\n          });\r\n        this.setState({\r\n            applications:array,\r\n            sortbyrating:!this.state.sortbyrating,\r\n        })\r\n    }\r\n\r\n    renderNameIcon(){\r\n        if(this.state.sortbyname){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    renderDateOfApplyIcon(){\r\n        if(this.state.sortbydateofapply){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    renderRatingIcon(){\r\n        if(this.state.sortbyrating){\r\n            return(\r\n                <ArrowDownwardIcon/>\r\n            )\r\n        }\r\n        else{\r\n            return(\r\n                <ArrowUpwardIcon/>\r\n            )            \r\n        }\r\n    }\r\n\r\n    shortlist(application) {\r\n        const editApplication = {\r\n            status: \"Shortlisted\"\r\n        };\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n            window.location.reload();\r\n    }\r\n\r\n    accept(application) {\r\n        let job = this.getjob(application.jobId);\r\n        if(job.numpos === job.posmax)\r\n        {\r\n            alert(\"All positions are filled!\");\r\n            return;\r\n        }\r\n        else if(job.numpos === job.posmax - 1)\r\n        {\r\n            this.state.applications.filter(item => item.applicantId !== application.applicantId && item.jobId === application.jobId && item.status !== \"Deleted\" && item.status !== \"Accepted\").forEach(\r\n                function(appli)\r\n                {\r\n                    // let temp = job;\r\n                    const tempAppli = {\r\n                        status: \"Rejected\"\r\n                    }\r\n                    // let newNumApp = +temp.numapp - 1;\r\n                    // if(newNumApp < 0) newNumApp = 0;\r\n                    // const tempJob = {\r\n                    //     numapp: newNumApp\r\n                    // }\r\n                    axios\r\n                        .put('http://localhost:4000/application/edit_application/' + appli._id, tempAppli)\r\n                        .then(response => {\r\n                            console.log(tempAppli);\r\n                        })\r\n                        .catch(function(error) {\r\n                            console.log(error);\r\n                        })\r\n                    // axios\r\n                    //     .put('http://localhost:4000/job/edit_job/' + temp._id, tempJob)\r\n                    //     .then(response => {\r\n                    //         console.log(tempJob);\r\n                    //     })\r\n                    //     .catch(function(error) {\r\n                    //         console.log(error);\r\n                    //     })\r\n                })\r\n        }\r\n        let nnumpos = +job.numpos + 1;\r\n\r\n        const editApplicant = {\r\n            working: true,\r\n            numapp: 0\r\n        };\r\n\r\n        const editJob = {\r\n            numpos: nnumpos\r\n        };\r\n\r\n        const editApplication = {\r\n            status: \"Accepted\",\r\n            doj: new Date()\r\n        };\r\n\r\n        axios\r\n            .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\r\n            .then(response => {\r\n                console.log(editJob);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        \r\n        axios\r\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\r\n            .then(response => {\r\n                console.log(editApplicant);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n        let alljobs = this.state.jobs;\r\n        this.state.applications.filter(item => item.applicantId === application.applicantId && item._id !== application._id && item.status !== \"Deleted\").forEach(\r\n            function(appli)\r\n            {\r\n                // let appliJob = alljobs.filter(item => item._id === appli.jobId)[0];\r\n                const editAppli = {\r\n                    status: \"Rejected\"\r\n                }\r\n                // let napp = +appliJob.numapp - 1;\r\n                // if(napp < 0) napp = 0;\r\n                // const editAppliJob = {\r\n                //     numapp: napp\r\n                // }\r\n                axios\r\n                    .put('http://localhost:4000/application/edit_application/' + appli._id, editAppli)\r\n                    .then(response => {\r\n                        console.log(editAppli);\r\n                    })\r\n                    .catch(function(error) {\r\n                        console.log(error);\r\n                    })\r\n                // axios\r\n                //     .put('http://localhost:4000/job/edit_job/' + appliJob._id, editAppliJob)\r\n                //     .then(response => {\r\n                //         console.log(editAppliJob);\r\n                //     })\r\n                //     .catch(function(error) {\r\n                //         console.log(error);\r\n                //     })\r\n            })\r\n\r\n        this.props.history.push('/appList');\r\n        this.props.history.push('/');\r\n        this.props.history.goBack();\r\n    }\r\n\r\n    reject(application) {\r\n        // const { user } = this.props.auth;\r\n        // let job = this.getjob(application.jobId);\r\n        let applicant = this.getapplicant(application.applicantId);\r\n        // let job = this.getjob(application.jobId);\r\n        let nnumapp = +applicant.numapp - 1;\r\n        // let jnumapp = +job.numapp - 1;\r\n\r\n        if(nnumapp < 0) nnumapp = 0;\r\n        // if(jnumapp < 0) jnumapp = 0;\r\n\r\n        const editApplicant = {\r\n            numapp: nnumapp\r\n        };\r\n\r\n        const editApplication = {\r\n            status: \"Rejected\"\r\n        };\r\n\r\n        // const editJob = {\r\n        //     numapp: jnumapp\r\n        // };\r\n\r\n        axios\r\n            .put('http://localhost:4000/application/edit_application/' + application._id, editApplication)\r\n            .then(response => {\r\n                console.log(editApplication);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        // axios\r\n        //     .put('http://localhost:4000/job/edit_job/' + job._id, editJob)\r\n        //     .then(response => {\r\n        //         console.log(editJob);\r\n        //     })\r\n        //     .catch(function(error) {\r\n        //         console.log(error);\r\n        //     })\r\n        \r\n        axios\r\n            .put('http://localhost:4000/user/edit_profile/' + application.applicantId, editApplicant)\r\n            .then(response => {\r\n                console.log(editApplicant);\r\n            })\r\n            .catch(function(error) {\r\n                console.log(error);\r\n            })\r\n\r\n        this.props.history.push('/appList');\r\n        this.props.history.push('/appList');\r\n        this.props.history.goBack();;\r\n    }\r\n\r\n    render() \r\n    {\r\n        const { user } = this.props.auth;\r\n        const userRole = this.state.userdetails.role;\r\n        let Applications;\r\n        if(userRole === \"recruiter\") {\r\n            Applications =\r\n            <div>\r\n                <Grid>\r\n                <Grid item xs={12} md={12} lg={12}>\r\n                    <List component=\"nav\" aria-label=\"mailbox folders\">\r\n                        <ListItem text>\r\n                            <h3>Applications</h3>\r\n                        </ListItem>\r\n                    </List>\r\n                </Grid>\r\n                </Grid>\r\n                <Grid>\r\n                    <Grid item xs={12} md={12} lg={12}>\r\n                        {/* <Paper> */}\r\n                            <Table>\r\n                                <TableHead>\r\n                                    <TableRow>\r\n                                            <TableCell>Title</TableCell>\r\n                                            <TableCell>Applicant <Button onClick={this.sortByName}>{this.renderNameIcon()}</Button></TableCell>\r\n                                            <TableCell>Appl. Rating <Button onClick={this.sortByRating}>{this.renderRatingIcon()}</Button></TableCell>\r\n                                            <TableCell>Appl. Skills</TableCell>\r\n                                            <TableCell><ul><li>Education</li></ul></TableCell>\r\n                                            <TableCell>SOP</TableCell>\r\n                                            <TableCell>Status</TableCell>\r\n                                            <TableCell>Date of Application <Button onClick={this.sortByDateOfApply}>{this.renderDateOfApplyIcon()}</Button></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                            <TableCell></TableCell>\r\n                                    </TableRow>\r\n                                </TableHead>\r\n                                <TableBody>\r\n                                    {this.state.applications.filter(item => item.status !== \"Rejected\" && item.recruiterId === user.id && item.jobId === this.props.location.state).map((application,ind) => (\r\n                                        <TableRow key={ind}>\r\n                                            <TableCell>{application.title}</TableCell>\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.name}</TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.rating ? applicant.rating.toFixed(1): \"\"}<i className=\"material-icons\"><h6> star</h6></i></TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>{applicant.skills.join(\", \")}</TableCell>\r\n                                            ))}\r\n                                            {this.state.users.filter(item => item._id === application.applicantId).map((applicant,innd) => (\r\n                                                <TableCell key={innd}>\r\n                                                    {\r\n                                                        applicant.education.map(ed => (\r\n                                                            <ul>\r\n                                                                <li>School: {ed.school}</li>\r\n                                                                <li>Degree: {ed.degree}</li>\r\n                                                                <li>Start date: {ed.startdate ? ed.startdate.toString().substring(0, 10): \"NA\"}</li>\r\n                                                                <li>End date: {ed.enddate ? ed.enddate.toString().substring(0, 10):\"NA\"}</li>\r\n                                                            </ul>\r\n                                                        ))\r\n                                                    }\r\n                                                </TableCell>\r\n                                            ))}\r\n                                            <TableCell>{application.sop}</TableCell>\r\n                                            <TableCell>{application.status}</TableCell>\r\n                                            <TableCell>{application.dateOfApplication.substring(0, 10)}</TableCell>\r\n                                           \r\n                                            {application.status === \"Applied\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Shortlist Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-primary btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.shortlist(application)}>\r\n                                                        Shortlist\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <div></div>\r\n\r\n                                            }\r\n                                            {application.status === \"Shortlisted\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Accept Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-success btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.accept(application)}>\r\n                                                        Accept\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <div></div>\r\n\r\n                                            }\r\n                                            {application.status === \"Accepted\"?\r\n                                            \r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Reject Candidate\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-secondary btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        >\r\n                                                        Accepted\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            :\r\n\r\n                                            <TableCell>\r\n                                                <Tooltip title=\"Rate this job\" aria-label=\"apply\">\r\n                                                    <button\r\n                                                        className=\"btn btn-danger btn-sm waves-effect waves-light hoverable blue accent-3\" \r\n                                                        onClick={() => this.reject(application)}>\r\n                                                        Reject\r\n                                                    </button> \r\n                                                </Tooltip>                                            \r\n                                            </TableCell>\r\n\r\n                                            }\r\n                                            \r\n                                        </TableRow>\r\n                                    ))}\r\n                                </TableBody>\r\n                            </Table>\r\n                        {/* </Paper>                */}\r\n                    </Grid>    \r\n                </Grid>            \r\n            </div>\r\n        }\r\n        return (\r\n            <div style={{ height: \"75vh\" }} className=\"valign-wrapper\">\r\n                <div className=\"row\">\r\n                    <div className=\"col s12 center-align\">\r\n                        <Card style={{ width: '100%' }}>\r\n                            <Card.Body>\r\n                                {Applications}\r\n                            </Card.Body>\r\n                        </Card>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAppList.propTypes = {\r\n    auth: PropTypes.object.isRequired,\r\n    errors: PropTypes.object.isRequired\r\n};\r\n\r\nconst mapStateToProps = state => ({\r\n    auth: state.auth,\r\n    errors: state.errors\r\n});\r\nexport default connect(\r\n    mapStateToProps,\r\n)(AppList);"]},"metadata":{},"sourceType":"module"}